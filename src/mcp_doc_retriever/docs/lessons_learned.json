[
  {
    "role": "Planner",
    "task_context": "Initial project setup (Task 1.1), attempting Git actions (add, commit, tag)",
    "problem": "Attempting `git add .`, `git commit`, or `git tag` failed with 'fatal: not a git repository'.",
    "solution": "Ensure `git init` is executed successfully in the project root directory *before* attempting any other Git commands like add, commit, or tag during initial setup phases.",
    "keywords": ["git", "init", "setup", "commit", "tag", "add", "repository", "planner"]
  },
  {
    "role": "Planner",
    "task_context": "Task 1.2/1.4/1.5 - Running commands installed via uv",
    "problem": "Commands installed via `uv sync` (e.g., `uvicorn`) were not found in the PATH when executed directly in the shell, causing 'command not found' errors.",
    "solution": "Use `uv run <command>` to execute commands that rely on packages installed within the `uv` virtual environment. This ensures the command runs within the correct context and can locate the necessary executables.",
    "keywords": ["uv", "run", "sync", "dependencies", "execution", "environment", "path", "command not found", "planner", "uvicorn"]
  },
  {
    "role": "Senior Coder",
    "task_context": "Dependency management, adding/updating/removing packages",
    "problem": "Forgetting to use `uv add` leads to inconsistent environments, missing lock updates, or broken virtualenvs.",
    "solution": "Always use `uv add <package>` (or `uv pip` commands) to add, update, or remove dependencies. Never edit `pyproject.toml` manually or use `pip` directly.",
    "keywords": ["uv", "dependency management", "add", "update", "remove", "pyproject.toml", "lockfile", "best practice", "senior-coder"]
  },
  {
    "role": "Senior Coder",
    "task_context": "Encountering missing dependencies or ModuleNotFoundError during script execution or runtime",
    "problem": "Reporting missing packages as errors instead of proactively fixing them immediately, causing unnecessary delays and user intervention.",
    "solution": "When encountering missing dependencies (e.g., ModuleNotFoundError), immediately attempt to fix by running `uv add <package>` without waiting for user input. Then re-run the failing command or script to verify resolution.",
    "keywords": ["dependency", "ModuleNotFoundError", "uv add", "proactive", "environment repair", "senior-coder", "debugging", "automation"]
  },
  {
    "role": "Hacker",
    "task_context": "Security testing of downloader.py",
    "problem": "Double-encoded path traversal (%252e%252e%252f) bypassed security checks",
    "solution": "Added multiple URL decoding passes to handle nested encoding attempts",
    "keywords": ["security", "path traversal", "encoding", "hacker"]
  },
  {
    "role": "Hacker",
    "task_context": "Security testing of downloader.py",
    "problem": "Concurrent downloads to same file could cause corruption",
    "solution": "Implemented simple file locking mechanism using .lock files",
    "keywords": ["security", "concurrency", "locking", "hacker"]
  },
  {
    "role": "Hacker",
    "task_context": "Security testing of downloader.py (Task 2.4)",
    "problem": "Hidden password fields and obfuscated login forms were not being detected",
    "solution": "Enhanced paywall detection to check for hidden fields, HTML entities, and obfuscated field names",
    "keywords": ["security", "paywall", "login detection", "obfuscation", "hacker"]
  },
  {
    "role": "Hacker",
    "task_context": "Security testing of downloader.py (Task 2.4)",
    "problem": "Error messages could leak internal details about malformed responses",
    "solution": "Standardized generic error messages that don't reveal implementation details",
    "keywords": ["security", "error handling", "information leakage", "hacker"]
  },
  {
    "role": "Senior Coder",
    "task_context": "Implementing concurrency control with asyncio.Semaphore",
    "problem": "Race conditions occurred due to improper management of asyncio.Semaphore, particularly by not using async context managers. Multiple coroutines accessed shared resources concurrently, leading to data inconsistency.",
    "solution": "Refactored code to use async context managers with asyncio.Semaphore to ensure proper acquisition and release of locks. Integrated pytest-asyncio to establish a robust asynchronous testing framework and enforced strict concurrency limits for security purposes. The race condition, exemplified by concurrent file writes, was resolved through these improvements.",
    "keywords": ["asyncio", "semaphore", "async context manager", "pytest-asyncio", "concurrency", "race condition", "security"]
  }
]