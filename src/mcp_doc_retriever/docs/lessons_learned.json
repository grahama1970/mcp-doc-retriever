{
  "lessons": [
    {
      "role": "Senior Coder",
      "problem": "Needed to ensure both standalone execution and module imports work for a script that depends on internal project models",
      "solution": "Define mock versions of required models inside __name__ == '__main__' block, then conditionally use either mock or real models based on how the script is run.",
      "relevant_for": ["module_design", "testing", "code_reuse"],
      "example": "In tree_sitter_extractor.py, mock ContentBlock and ExtractedBlock are defined locally for standalone testing, while the real models are imported from mcp_doc_retriever.models when used as a module.",
      "date": "2025-04-12"
    }
  ]
}
